#include <Servo.h>

//servo vars
Servo myservo;
int pos = 0;

//depth vars
int adc_id = 0;
int HistoryValue = 0;
char printBuffer[128];

void setup() {
//servo set up
myservo.attach(9); // the 9 represents what pin the servo is in

//depth set up
Serial.begin(9600);  //mostly just starting serial monitor, not really specific to depth

}

void loop() 
{
int value = analogRead(adc_id); // get adc value

sprintf(printBuffer,"ADC%d level is %d\n",adc_id, value);
Serial.print(printBuffer);


/*
//water sensor actions
    if(((HistoryValue>=value) && ((HistoryValue - value) > 10)) || ((HistoryValue<value) && ((value - HistoryValue) > 10)))
    {
      sprintf(printBuffer,"ADC%d level is %d\n",adc_id, value);
      Serial.print(printBuffer);
      HistoryValue = value;
    }

    if(value > 10){
      myservo.write(pos);
    }
    else{
      myservo.write(0);
    }
*/

if(value >= 300)
{
  myservo.write(180);
  delay(150);
}
else
{
  myservo.write(0);
  delay(150);
}

/*
//servo actions on water condition
if(value >= 300){
   for (pos = 0; pos <= 180; pos += 1){
    myservo.write(pos);       //instructions telling servo to go to pos
    delay(15);                //delay in ms
  }
 delay(150);
}
else{
    myservo.write(0);              
    delay(150);                       
  }
delay(500);
*/
}
